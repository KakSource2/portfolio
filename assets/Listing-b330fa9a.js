import{r as i,c as g,b as h,j as e,L as m}from"./index-5cdb3fd4.js";import{a as u}from"./axios-4a70c6fc.js";const p=()=>{const[n,o]=i.useState([]),c=g(),a=i.useRef(!1),l=h();return document.title=l?"TMDB - Listing":"TMDB - Listado",i.useEffect(()=>{const t=localStorage.getItem("token_tmdb");if(a.current)return;(()=>{if(!t)return c("/tmdb/login");a.current=!0;const d="https://api.themoviedb.org/3/discover/movie?api_key=b4f025717b1adb593d3fe575e5ca5bee&language=es-ES&page=1";u.get(d).then(s=>o(s.data.results)).catch(s=>sweetAlert({title:"There was a mistake loading! Try again in a few minutes...",text:s,icon:"error"}))})()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"TMDB-Listing",children:e.jsx("main",{children:n.map((t,r)=>e.jsx("div",{children:e.jsxs("div",{className:"card",children:[t.title.length>17?e.jsx("h2",{style:{fontSize:"0.8rem"},children:t.title}):e.jsx("h2",{children:t.title}),e.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${t.poster_path}`,className:"card__img",alt:"..."}),e.jsxs("p",{title:t.overview,className:"card__text",children:[t.overview.substring(0,100),"..."]}),e.jsx(m,{to:`/tmdb/listing/id/${t.id}`,className:"card__link",children:"Ver detalle"})]})},r))})})})};export{p as default};
