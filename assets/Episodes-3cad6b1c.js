import{r as _,a as y,b as N,j as s,L as i}from"./index-fd71d09f.js";import{a as k}from"./axios-4a70c6fc.js";import{u as C}from"./useQuery-0a7f5ce4.js";const b="_episodes_1213p_1",E="_navigation_1213p_10",P="_list_1213p_20",t={episodes:b,navigation:E,list:P},L=(a,e)=>e>=100?s.jsx(i,{to:`/rick-and-morty/character/${e}`,children:a.slice(-3)},e):e>=10?s.jsx(i,{to:`/rick-and-morty/character/${e}`,children:a.slice(-2)},e):s.jsx(i,{to:`/rick-and-morty/character/${e}`,children:a.slice(-1)},e),F=()=>{const[a,e]=_.useState(1);y();const n=N(),o=async r=>((r>42||r<1)&&(r=1,e(1)),await k.get(`https://rickandmortyapi.com/api/episode?page=${r}`)),{isLoading:c,isError:d,data:l,error:p}=C({queryKey:["ram_episodes",a],queryFn:()=>o(a)});if(c)return s.jsx("div",{children:n?"Loading episodes... please wait.":"Cargando episodios... por favor espere."});if(d)return console.log(p),s.jsx("div",{children:n?"There was an error loading episodes.":"Hubo un error cargando los episodios."});const{info:h,results:u}=l.data;return s.jsxs("div",{className:t.episode,children:[s.jsxs("h2",{children:["Total episodes: ",h.count]}),s.jsxs("div",{className:t.navigation,children:[s.jsx("button",{onClick:()=>e(r=>r-1),children:"Prev page"}),s.jsx("button",{onClick:()=>e(r=>r+1),children:"Next page"})]}),s.jsx("main",{className:"list",children:u.map(r=>{const{id:j,episode:m,name:x,characters:g}=r;return s.jsxs("div",{className:"card",children:[s.jsx("div",{children:s.jsxs("a",{href:"#",children:[s.jsx("p",{children:"Episode"})," ",s.jsx("span",{children:m})]})}),s.jsxs("div",{children:[s.jsx("p",{children:"Name"})," ",s.jsx("span",{children:x})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Characters"}),s.jsx("span",{className:"card__characters",children:g.map((v,f)=>L(v,f+1))})]})]},j)})}),s.jsxs("div",{className:t.navigation,children:[s.jsx("button",{onClick:()=>e(r=>r-1),children:"Prev page"}),s.jsx("button",{onClick:()=>e(r=>r+1),children:"Next page"})]})]})};export{F as default};
